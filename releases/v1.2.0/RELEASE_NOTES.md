# LuCI App File Transfer v1.2.0 发布说明

## 🎉 版本概述
这是一个重大更新版本，完全重写了文件传输和管理功能，提供了更加完善和用户友好的文件管理体验。

## 🚀 主要新特性

### 📁 全新文件管理界面
- **简洁直观**：地址栏 + 文件列表的经典布局
- **文件夹导航**：点击文件夹直接进入，".." 返回上级目录
- **响应式设计**：支持桌面和移动设备
- **实时刷新**：文件列表实时更新

### 📤 完善的文件上传系统
- **拖拽上传**：支持文件拖拽到上传区域
- **进度显示**：实时显示上传进度和状态
- **大文件支持**：优化大文件上传性能
- **错误处理**：完善的上传错误处理和重试机制

### 🐛 全面的错误监控系统
- **自动捕获**：JavaScript错误、网络错误、Promise拒绝
- **详细记录**：错误类型、堆栈信息、用户代理等
- **实时上报**：错误自动记录到系统日志
- **调试面板**：快捷键 Ctrl+Shift+E 显示错误日志

### 📊 优化的日志系统
- **紧凑显示**：优化日志条目高度和间距
- **搜索过滤**：支持按级别和关键词搜索
- **实时更新**：日志内容实时刷新
- **导出功能**：支持日志导出到文件

## 🔧 技术改进

### 架构优化
- **前后端分离**：清晰的API接口设计
- **模块化代码**：更好的代码组织和维护性
- **错误处理**：完善的错误处理机制
- **性能优化**：减少不必要的网络请求

### 安全增强
- **CSRF保护**：所有表单提交都包含CSRF令牌
- **权限控制**：细粒度的访问权限控制
- **输入验证**：严格的输入参数验证
- **路径安全**：防止路径遍历攻击

### 调试支持
- **调试API**：提供不需要认证的调试接口
- **详细日志**：记录详细的操作和错误信息
- **开发工具**：提供便捷的开发和测试脚本

## 📦 安装说明

### 系统要求
- OpenWRT 21.02 或更高版本
- LuCI 18.06 或更高版本
- 至少 1MB 可用存储空间

### 安装步骤

1. **下载安装包**
   ```bash
   wget https://github.com/DustReliant/luci-app-filetransfer/releases/download/v1.2.0/luci-app-filetransfer_1.2.0_all.ipk
   ```

2. **验证完整性**（可选）
   ```bash
   wget https://github.com/DustReliant/luci-app-filetransfer/releases/download/v1.2.0/luci-app-filetransfer_1.2.0_all.ipk.sha256
   sha256sum -c luci-app-filetransfer_1.2.0_all.ipk.sha256
   ```

3. **安装应用**
   ```bash
   opkg install luci-app-filetransfer_1.2.0_all.ipk
   ```

4. **重启LuCI服务**
   ```bash
   /etc/init.d/uhttpd restart
   ```

### 升级说明
如果您已经安装了旧版本，请使用强制重新安装：
```bash
opkg install --force-reinstall luci-app-filetransfer_1.2.0_all.ipk
```

## 🎯 使用指南

### 访问应用
1. 登录 LuCI 管理界面
2. 导航到 **系统 → 文件传输**
3. 选择相应的功能页面：
   - **文件传输**：上传和下载文件
   - **文件管理**：浏览和管理系统文件
   - **日志查看**：查看应用日志

### 主要功能

#### 文件上传
- 点击上传区域选择文件，或直接拖拽文件
- 支持单个或多个文件同时上传
- 实时显示上传进度和状态

#### 文件管理
- 在地址栏输入路径直接跳转
- 点击文件夹进入子目录
- 点击 ".." 返回上级目录
- 下载或删除文件

#### 错误监控
- 按 Ctrl+Shift+E 显示错误日志面板
- 自动捕获页面错误并记录
- 支持手动刷新和清除错误日志

## 🐛 已知问题
- 在某些旧版本的 OpenWRT 上可能需要手动重启服务
- 大文件上传时建议保持网络连接稳定
- 移动设备上的拖拽功能可能有限制

## 🔄 更新日志

### v1.2.0 (2024-06-29)
- 🎉 **重大更新**：完全重写文件传输和管理功能
- ✨ **新增**：全新的文件管理界面
- ✨ **新增**：完整的错误监控系统
- ✨ **新增**：优化的日志系统界面
- 🔧 **改进**：文件上传性能和用户体验
- 🔧 **改进**：前端界面设计和响应式布局
- 🔒 **安全**：增强CSRF保护和权限控制
- 🐛 **修复**：多个稳定性和兼容性问题

## 📞 支持与反馈

如果您在使用过程中遇到问题或有建议，请通过以下方式联系：

- **GitHub Issues**: https://github.com/DustReliant/luci-app-filetransfer/issues
- **项目主页**: https://github.com/DustReliant/luci-app-filetransfer

## 📄 许可证
本项目采用 MIT 许可证，详情请参阅 LICENSE 文件。

---

**感谢您使用 LuCI App File Transfer！** 